{% extends "base.html" %}
{% load static %}

{% block content %}
<section class="container" id="root">
    <div class="columns">

        <div class="column is-8">
            <tabs>
                <tab name="Document" :selected="true">
                    <div class="box content">
                        <article class="post">
                            <h4>
                                <div class="field is-grouped is-grouped-multiline">
                                    <div class="control" v-for="(label, index) in items[cur].labels">
                                        <div class="tags has-addons">
                                            <span class="tag is-grey">
                                                <button class="delete is-small" v-on:click="deleteLabel(index)"></button>
                                                [[label.text]]
                                            </span>
                                            <span class="tag is-primary" v-if="label.prob">[[label.prob]]</span>
                                        </div>
                                    </div>
                                </div>
                            </h4>
                            <div class="media">
                                <div class="media-content">
                                    <div class="content">
                                        <p>
                                            [[ items[cur]['text'] ]]
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </article>
                    </div>
                    <div class="is-clearfix	">
                        <div class="buttons has-addons is-left is-pulled-left">
                            <a class="button is-small" v-on:click="prevPage" :disabled="cur == 0">
                                <span class="icon">
                                    <i class="fas fa-chevron-circle-left"></i>
                                </span>
                                <span>Prev</span>
                            </a>
                        </div>
                        <div class="buttons has-addons is-right">
                            <a class="button is-small" v-on:click="nextPage" :disabled="remaining == 1">
                                <span>Next</span>
                                <span class="icon">
                                    <i class="fas fa-chevron-circle-right"></i>
                                </span>
                            </a>
                        </div>
                    </div>
                </tab>

                <tab name="Guideline">
                    <div class="box content">
                        <article class="post">
                            <h4>
                                Annotation Guideline
                            </h4>
                            <div class="media">
                                <div class="media-content">
                                    <div class="content">
                                        <p role="textbox" contenteditable="true">
                                            [[ guideline ]]
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </article>
                    </div>
                </tab>

            </tabs>
        </div>


        <div class="column is-4">
            <tabs>
                <tab name="Annotation" :selected="true">
                    <div class="box content">

                        <aside class="menu" style="padding-top:0rem;">
                            <p class="menu-label" style="padding-left:0;">
                                Active Learning
                            </p>
                            <p>
                                <a class="button is-primary is-small" v-on:click="activeLearn">
                                    <b>Do It!</b>
                                </a>
                            </p>
                        </aside>

                        <aside class="menu" style="padding-top:1.5rem;">
                            <p class="menu-label" style="padding-left:0;">
                                Progress
                            </p>
                            <p>
                                <a class="button is-info is-small" style="height:1.5em;">[[ total ]] in set</a>
                                <a class="button is-success is-small" style="height:1.5em;">[[ done ]] done</a>
                                <a class="button is-danger is-small" style="height:1.5em;">[[ remaining ]] remaining</a>
                            </p>
                        </aside>

                        <aside class="menu" style="padding-top:1.5rem;">
                            <p class="menu-label" style="padding-left:0;">
                                Tags
                            </p>
                            <div class="field is-grouped is-grouped-multiline">
                                <div class="control" v-for="label in labels">
                                    <div class="tags has-addons">
                                        <a class="tag is-grey" v-on:click="addLabel(label.text)">[[label.text]]</a>
                                        <span class="tag is-primary">[[label.shortcut]]</span>
                                    </div>
                                </div>
                            </div>
                        </aside>
                    </div>
                </tab>

                <tab name="History">
                    <div class="box content">
                        <div class="field">
                            <label class="label">Search</label>
                            <div class="control">
                                <input class="input" type="text" placeholder="Text input" v-model="searchQuery" @keyup.enter="submit">
                            </div>
                        </div>
                        <div class="card" v-for="item in history">
                            <div class="card-content">
                                <div class="content">
                                    <p>
                                        [[ item['text'].slice(0, 100) ]]
                                    </p>
                                    <div class="tags">
                                        <a class="tag is-grey" v-for="label in item.labels">[[ label.text ]]</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </tab>
            </tabs>

        </div>

    </div>
</section>
<script type="text/javascript" src="{% static 'annotation.js' %}"></script>
{% endblock %}