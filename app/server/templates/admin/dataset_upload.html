{% extends "admin/admin_base.html" %}
{% load static %}
{% block content-area %}
<div class="columns">
  <div class="column is-12">

    <div class="card">
      <header class="card-header">
        <p class="card-header-title">
          File Uploader
        </p>
      </header>
      <div class="card-content">
        <h2 class="subtitle">Upload a file to annotate text.</h2>

        <div class="control">
          <label class="radio">
            <input type="radio" name="format" value="plain" :checked="format=='plain'" v-model="format">
            Plain
          </label>
          <label class="radio">
            <input type="radio" name="format" value="csv" :checked="format=='csv'" v-model="format">
            CSV
          </label>
          <label class="radio">
            <input type="radio" name="format" value="json" :checked="format=='json'" v-model="format">
            JSONL
          </label>
        </div>

        <pre v-show="format=='plain'" class="code-block">
          <code class="csv">
            Terrible customer service.
            Really great transaction.
            Great price.
            ...
          </code>
        </pre>
        <pre v-show="format=='csv'" class="code-block">
          <code class="csv">
            // Text classification format.
            text,label
            "Terrible customer service.","negative"
            "Really great transaction.","positive"
            "Great price.","positive"
            ...

            // Sequence to sequence format.
            text,label
            "Hello!","こんにちは！"
            "Good morning.","おはようございます。"
            "See you.","さようなら。"
            ...
          </code>
        </pre>
        <pre v-show="format=='json'" class="code-block">
          <code class="json">
            // Text classification format.
            {"text": "Great price.", "labels": ["positive"]}
            ...

            // Sequence labeling format.
            {"text": "President Obama", "labels": [ [10, 15, "PERSON"] ]}
            ...

            // Sequence to sequence format.
            {"text": "Hello!", "labels": ["こんにちは！"]}
            ...
          </code>
        </pre>


        <div class="control">
          <div class="file has-name is-primary">
            <label class="file-label">
              <input class="file-input" type="file" ref="file" name="file" required v-on:change="upload()">
              <span class="file-cta">
                <span class="file-icon">
                  <i class="fas fa-upload"></i>
                </span>
                <span class="file-label">
                  Select a file…
                </span>
              </span>
              <span class="file-name">
                [[ file.name ]]
              </span>
            </label>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
{% block footer %}
<script src="{% static 'bundle/upload.js' %}"></script>
{% endblock %}